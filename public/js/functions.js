$(function(){function t(){y=$("#units").val(),"metric"==y?(b=!0,$("#weightInput").attr("placeholder","Your weight in kilos"),$("#heightInput").attr("placeholder","Your height in cm")):(b=!1,$("#weightInput").attr("placeholder","Your weight in lbs"),$("#heightInput").attr("placeholder","Your height in inches"))}function e(t,e,n,o,a,i){$.ajax({url:"https://api.mlab.com/api/1/databases/mongo/collections/details?apiKey=CFtPUbhD7L8QuM9nNL6IjSPh2t3A3v87",data:JSON.stringify([{gender:t,weight:e,height:n,age:o,bmi:a,activity:i,date:{$date:(new Date).toISOString()}}]),type:"POST",contentType:"application/json"})}function n(){if(b)0!=l&&0!=d&&0!=h?(p=(l/(d/100*(d/100))).toFixed(1),18.5>p?$("#screen").text("Your BMI: "+p+", you are underweight"):p>=18.5&&25>=p?$("#screen").text("Your BMI: "+p+", you are in a healthy range"):p>25&&30>=p?$("#screen").text("Your BMI: "+p+", you are overweight"):p>30&&$("#screen").text("Your BMI: "+p+", you are obese!")):$("#screen").text("Enter your details by clicking on gender button");else if(0!=l&&0!=d&&0!=h){var t=l/2.2,e=2.54*d;p=(t/(e/100*(e/100))).toFixed(1),18.5>p?$("#screen").text("Your BMI: "+p+", you are underweight"):p>=18.5&&25>=p?$("#screen").text("Your BMI: "+p+", you are in a healthy range"):p>25&&30>=p?$("#screen").text("Your BMI: "+p+", you are overweight"):p>30&&$("#screen").text("Your BMI: "+p+", you are obese!")}else $("#screen").text("Enter your details by clicking on gender button")}function o(){p=(l/(d/100*(d/100))).toFixed(1)}function a(t,e,n){1==b?m?(g=88+13.4*t+4.8*e-5.7*n,s()):(g=448+9.2*t+3.1*e-4.3*n,s()):m?(g=88+6.1*t+12.2*e-5.7*n,s()):(g=448+4.2*t+7.9*e-4.3*n,s())}function i(t){var n=0;switch(t){case 1:n=1.2,M="Sedentary";break;case 2:n=1.375,M="Light Active";break;case 3:n=1.55,M="Moderate Active";break;case 4:n=1.725,M="Very Active";break;case 5:n=1.9,M="Extremely Active";break;default:$("#screen").text("You forgot to add numbers")}if(0!=n&&NaN!=n&&0!=g&&NaN!=g){f=g*n,o(),e(x,l,d,h,p,M);var a="Your daily calories to maintain weight are equal to: "+Math.round(f)+" cals\n\n. You need "+Math.round(.25*f/4)+"g of protein,\n "+Math.round(.45*f/4)+"g of carbs\n and "+Math.round(.3*f/9)+"g of fats daily.";$("#screen").text(a),r(f)}else $("#screen").text("Please enter personal details by selecting gender")}function s(){var t=1.2*g;v=Math.round(.25*t),k=Math.round(.45*t),w=Math.round(.3*t),$("#protDistribution").html("<strong>Assuming low activity levels (e.g. you work at a desk job), you should consume: "+Math.round(v/4)+"g of protein a day, which is equivalent to "+v+"cals to maintain your current weight.</strong>"),$("#carbDistribution").html("<strong>Assuming low activity levels (e.g. you work at a desk job), you should consume: "+Math.round(k/4)+"g of carbohydrates a day, which is equivalent to "+k+"cals to maintain your current weight.</strong>"),$("#fatDistribution").html("<strong>Assuming low activity levels (e.g. you work at a desk job), you should consume: "+Math.round(w/9)+"g of fat a day, which is equivalent to "+w+"cals to maintain your current weight.</strong>")}function r(t){v=Math.round(.25*t),k=Math.round(.45*t),w=Math.round(.3*t),$("#flexiPro").text("Your diet should consist of "+Math.round(v/4)+"g of protein which is equivalent to "+v+"cals"),$("#flexiCarb").text("and "+Math.round(k/4)+"g of carbohydrates which is equivalent to "+k+"cals"),$("#flexiFat").text("and "+Math.round(w/9)+"g of fats which is equivalent to "+w+"cals")}function u(t){var e=f,n=f;switch(t){case 7:e=.85*f;var o="Your daily calories to lose weight: "+Math.round(e)+"cals.\n\nYou need "+Math.round(.3*e/4)+"g of protein,\n "+Math.round(.4*e/4)+"g of carbs,\n "+Math.round(.3*e/9)+"g of fats daily.";$("#screen").text(o),r(Math.round(e));break;case 8:n=1.1*f;var a="Your daily calories to gain weight: "+Math.round(e)+"cals\n\nYou need "+Math.round(.25*n/4)+"g of protein,\n "+Math.round(.45*n/4)+"g of carbs,\n"+Math.round(.3*n/9)+"g of fats daily.";$("#screen").text(a),r(Math.round(n));break;case 9:m=!0,x="male",c();break;case 0:m=!1,x="female",c();break;default:$("#screen").text("Your daily calories were not added")}}function c(){$("#TDEEPersonal input").val(""),$("#modalClosing").on("click",function(){y=$("#modalUnits").val(),b="metric"==y?!0:!1,l=parseFloat($("#modalWeight").val()),d=parseFloat($("#modalHeight").val()),h=parseFloat($("#modalAge").val()),0!=l&&0!=l&&0!=d&&0!=d&&0!=h&&0!=h?a(l,d,h):$("#screen").text("You entered wrong values")})}var l=0,d=0,h=0,g=0,p=0,f=0,y="",b=!1,m=!0,v=0,k=0,w=0,x="",M="";$("#btn9,#btn0").animatedModal(),$("#btn6").on("click",function(){n()}),$(document).on("ready",function(){var t,e,n=$(window).height(),o=$(document).height(),a=$("progress");t=o-n,a.attr("max",t),$(document).on("scroll",function(){e=$(window).scrollTop(),a.attr("value",e)})}),$("#gmale").on("click",function(){m=!0,$("#superBoy,#finishLine").css("display","block"),$("#superGirl").css("display","none"),x="male"}),$("#gfemale").on("click",function(){m=!1,$("#superGirl,#finishLine").css("display","block"),$("#superBoy").css("display","none"),x="female"}),$("#personalDetails input").prop("disabled",!0),$("#personalDetails input").css("background","rgba(255,255,255,0.3)"),$("#units").change(function(){$("#personalDetails input").prop("disabled",!1),$("#personalDetails input").css("background","rgba(255,255,255,1)"),t()}),$("#weightInput").keyup(function(){var t=parseFloat($("#weightInput").val());isNaN(t)?$("#weightInput").css("background","#CF4A30"):(l=parseFloat($("#weightInput").val()),$("#weightInput").css("background","#88A825"))}),$("#heightInput").keyup(function(){var t=parseFloat($("#heightInput").val());isNaN(t)?$("#heightInput").css("background","#CF4A30"):(d=parseFloat($("#heightInput").val()),$("#heightInput").css("background","#88A825"))}),$("#ageInput").keyup(function(){var t=parseFloat($("#ageInput").val());isNaN(t)?$("#ageInput").css("background","#CF4A30"):(h=parseFloat($("#ageInput").val()),$("#ageInput").css("background","#88A825"),a(l,d,h))}),$("#btn1,#btn2,#btn3,#btn4,#btn5").on("click",function(){var t=parseInt($(this).text());i(t)}),$("#btn7,#btn8,#btn9,#btn0").on("click",function(){var t=parseInt($(this).attr("id").replace("btn",""));u(t)}),$('[title!=""]').qtip({position:{target:"mouse",adjust:{x:10,y:15}},style:{classes:"qtip-bootstrap"}}),$("#stat5, #stat6").qtip(),$("#side1,#side2,#side3,#side4,#side5,#side6,#side7,#side8,#side9").qtip({content:{text:function(t,e){return $(this).attr("sideText")},title:function(t,e){return $(this).attr("sideTitle")}},position:{target:"mouse",adjust:{x:10,y:15}},style:{classes:"qtip-bootstrap"}}),$("#healthyGra,#fatGra").qtip({content:{text:function(t,e){return $(this).attr("foodText")},title:function(t,e){return $(this).attr("foodTitle")}},position:{target:"mouse",adjust:{x:10,y:15}},style:{classes:"qtip-bootstrap"}}),$("#pointScotland").on("mouseover",function(){$("#imgScotland").css("display","block")}).on("mouseout",function(){$("#imgScotland").css("display","none")}),$("#pointEngland").on("mouseover",function(){$("#imgEngland").css("display","block")}).on("mouseout",function(){$("#imgEngland").css("display","none")}),$("#pointWales").on("mouseover",function(){$("#imgWales").css("display","block")}).on("mouseout",function(){$("#imgWales").css("display","none")}),$("#pointIreland").on("mouseover",function(){$("#imgIreland").css("display","block")}).on("mouseout",function(){$("#imgIreland").css("display","none")})})();